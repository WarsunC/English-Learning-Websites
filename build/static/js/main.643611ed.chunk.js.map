{"version":3,"sources":["components/Header/logo.png","components/Header/index.js","container/List/index.js","container/Detail/index.js","components/Login/index.js","container/Vip/index.js","index.js"],"names":["module","exports","AppHeader","props","handleClick","e","setState","current","key","state","list","id","UsergroupDeleteOutlined","IdcardOutlined","DingdingOutlined","GoogleOutlined","WechatOutlined","DribbbleOutlined","this","map","item","Item","to","getIcon","title","num","match","params","num2","num1","axios","get","then","res","data","src","logo","alt","className","selectedKeys","mode","onClick","getMenuItems","Component","AppList","bordered","style","background","dataSource","renderItem","nextProps","nextState","nextContext","Detail","content","width","dangerouslySetInnerHTML","__html","Login","showModal","visible","logout","withCredentials","login","checkLogin","user","password","url","message","success","error","handleCancel","changeUsername","target","value","changePassage","passage","checked","type","onOk","bind","onCancel","placeholder","onBlur","Password","Vip","Header","Layout","Footer","Content","App","path","component","ReactDom","render","document","getElementById"],"mappings":"uFAAAA,EAAOC,QAAU,IAA0B,kC,2YCgG5BC,G,yDAvFX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAOVC,YAAc,SAAAC,GACV,EAAKC,SAAS,CACVC,QAASF,EAAEG,OARf,EAAKC,MAAQ,CACTC,KAAM,GACNH,QAAS,IAJE,E,oDAcVI,GACL,OAAOA,GACH,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,KAAK,EACD,OACI,kBAACC,EAAA,EAAD,MAER,QACI,U,qCAII,IAAD,OACX,OAAOC,KAAKT,MAAMC,KAAKS,KAAI,SAAAC,GACvB,OACI,kBAAC,IAAKC,KAAN,CAAWb,IAAKY,EAAKT,IACjB,kBAAC,IAAD,CAAMW,GAAE,WAAMF,EAAKT,KACd,EAAKY,QAAQH,EAAKT,IAClBS,EAAKI,a,0CAOL,IAAD,OACZC,EAAMP,KAAKf,MAAMuB,MAAMC,OAGvBF,EAAIG,MACJV,KAAKZ,SAAS,CAACC,QAASkB,EAAII,OAEhCC,IAAMC,IAAI,iDACLC,MAAK,SAAAC,GACF,EAAK3B,SAAS,CACVI,KAAMuB,EAAIC,KAAKA,Y,+BAM3B,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAMZ,GAAI,KACN,yBAAKa,IAAKC,IAAMC,IAAI,GAAGC,UAAW,qBAEtC,kBAAC,IAAD,CAAMC,aAAcrB,KAAKT,MAAMF,QAASiC,KAAM,aAAcC,QAASvB,KAAKd,aACpEc,KAAKwB,qB,GAjFHC,c,SC6CTC,E,kDA9CX,WAAYzC,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTyB,KAAM,IAHK,E,qDAQf,OACI,kBAAC,IAAD,CACIW,UAAQ,EACRC,MAAO,CAACC,WAAY,QACpBC,WAAY9B,KAAKT,MAAMyB,KACvBe,WAAY,SAAA7B,GAAI,OACZ,kBAAC,IAAKC,KAAN,KACI,kBAAC,IAAD,CAAMC,GAAE,kBAAaF,EAAKT,KAAOS,EAAKI,a,0CAOrC,IAAD,OACZb,EAAKO,KAAKf,MAAMuB,MAAMC,OAAOhB,GACjCA,EAAMA,GAAU,EAChBmB,IAAMC,IAAI,kDAAkDpB,GACvDqB,MAAK,SAAAC,GACF,EAAK3B,SAAS,CACV4B,KAAMD,EAAIC,KAAKA,Y,uDAMEgB,EAAWC,EAAWC,GAAc,IAAD,OAC1DzC,EAAKuC,EAAUxB,MAAMC,OAAOhB,GAClCmB,IAAMC,IAAI,kDAAkDpB,GACvDqB,MAAK,SAAAC,GACF,EAAK3B,SAAS,CACV4B,KAAMD,EAAIC,KAAKA,c,GAzCbS,a,SC0BPU,G,yDAzBX,WAAYlD,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTe,MAAO,GACP8B,QAAS,IAJE,E,gEAOE,IAAD,OACV3C,EAAKO,KAAKf,MAAMuB,MAAMC,OAAOhB,GACnCmB,IAAMC,IAAI,oDAAsDpB,GAC3DqB,MAAK,SAAAC,GACF,EAAK3B,SAAS,CACVkB,MAAQS,EAAIC,KAAKA,KAAKV,MACtB8B,QAAUrB,EAAIC,KAAKA,KAAKoB,e,+BAKrC,OACI,kBAAC,IAAD,CAAM9B,MAAON,KAAKT,MAAMe,MAAQsB,MAAO,CAAES,MAAO,SAC5C,yBAAKjB,UAAU,SAASkB,wBAAyB,CAACC,OAAQvC,KAAKT,MAAM6C,gB,GArB/DX,c,mCCsGNe,G,yDApGX,WAAYvD,GAAQ,IAAD,8BACf,cAAMA,IAWVwD,UAAY,WACR,EAAKrD,SAAS,CACVsD,SAAS,KAdE,EAmBnBC,OAAS,WACL/B,IAAMC,IAAI,gDAAiD,CAAE+B,iBAAiB,IACzE9B,MAAK,SAAAC,GACWA,EAAIC,KAAKA,KACd2B,QACJ,EAAKvD,SAAS,CACVyD,OAAO,QAzBR,EAgCnBC,WAAa,WAAO,IAAD,EACY,EAAKvD,MAAxBwD,EADO,EACPA,KAAMC,EADC,EACDA,SACRC,EAAG,4DAAwDF,EAAxD,qBAAyEC,GAClFpC,IAAMC,IAAIoC,EAAK,CAAEL,iBAAiB,IAC7B9B,MAAK,SAAAC,GACCA,EAAIC,KAAKA,KAAK6B,OACb,EAAKzD,SAAS,CACVsD,SAAS,EACTG,OAAO,IAEXK,IAAQC,QAAQ,6BAEhBD,IAAQE,MAAM,wDA5CX,EAiDnBC,aAAe,WACX,EAAKjE,SAAS,CACVsD,SAAS,KAnDE,EAwDnBY,eAAiB,SAACnE,GACd,EAAKC,SAAS,CAAC2D,KAAO5D,EAAEoE,OAAOC,SAzDhB,EA2DnBC,cAAgB,SAACtE,GACb,EAAKC,SAAS,CAAC4D,SAAW7D,EAAEoE,OAAOC,SA1DnC,EAAKjE,MAAQ,CACTsD,OAAO,EACPH,SAAS,EACTK,KAAM,GACNW,QAAS,GACTC,SAAS,GAPE,E,gEA+DE,IAAD,OAChB/C,IAAMC,IAAI,iDAAiD,CAAC+B,iBAAiB,IACxE9B,MAAK,SAAAC,GACF,IAAM8B,EAAQ9B,EAAIC,KAAKA,KAAK6B,MAC5B,EAAKzD,SAAS,CACVyD,QACAc,SAAS,S,+BAKf,IAAD,EACsB3D,KAAKT,MAAxBsD,EADH,EACGA,MAAOc,EADV,EACUA,QACf,OACI,6BAEQA,GAAWd,EACP,kBAAC,IAAD,CAAMzC,GAAI,KAAK,kBAAC,IAAD,CAAQwD,KAAK,UAAUrC,QAASvB,KAAK2C,OAAQvB,UAAU,SAAvD,iBAEf,kBAAC,IAAD,CAAQwC,KAAK,UAAUrC,QAASvB,KAAKyC,UAAWrB,UAAU,SAA1D,gBAER,kBAAC,IAAD,CAAMhB,GAAE,eAAiB,kBAAC,IAAD,CAAQwD,KAAK,UAAUxC,UAAU,OAAjC,QACzB,kBAAC,IAAD,CACId,MAAM,eACNoC,QAAS1C,KAAKT,MAAMmD,QACpBmB,KAAM7D,KAAK8C,WAAWgB,KAAK9D,MAC3B+D,SAAU/D,KAAKqD,cAEf,kBAAC,IAAD,CAAOW,YAAY,uCAAS5C,UAAU,WAAW6C,OAAQjE,KAAKsD,eAAeQ,KAAK9D,QAClF,6BACA,kBAAC,IAAMkE,SAAP,CAAgBF,YAAY,iCAAQC,OAAQjE,KAAKyD,cAAcK,KAAK9D,c,GA9FpEyB,cCqCL0C,G,yDAtCX,WAAYlF,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTsD,OAAO,EACPc,SAAS,GAJE,E,qDASf,OAAG3D,KAAKT,MAAMoE,QACP3D,KAAKT,MAAMsD,MAEN,yBAAKzB,UAAU,eAAf,OAIA,yDAKJ,sF,0CAIS,IAAD,OAEhBR,IAAMC,IAAI,iDAAkD,CAAE+B,iBAAgB,IACzE9B,MAAK,SAAAC,GACF,IAAM8B,EAAQ9B,EAAIC,KAAKA,KAAK6B,MAC5B,EAAKzD,SAAS,CACVyD,QACAc,SAAS,W,GAjCXlC,cCQV2C,EAA4BC,IAA5BD,OAAQE,EAAoBD,IAApBC,OAAQC,EAAYF,IAAZE,QAElBC,E,uKAEE,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,EAAD,CAAQpD,UAAU,UAEd,kBAAC,IAAD,CAAOqD,KAAK,iBAAiBC,UAAW1F,KAE5C,kBAACuF,EAAD,CAASnD,UAAU,WACf,kBAAC,EAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOqD,KAAK,cAAcC,UAAWP,IACrC,kBAAC,IAAD,CAAOM,KAAK,cAAcC,UAAWvC,IACrC,kBAAC,IAAD,CAAOsC,KAAK,QAAQC,UAAWhD,MAGvC,kBAAC4C,EAAD,CAAQlD,UAAU,UAAlB,gC,GAjBFK,aAyBlBkD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.643611ed.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1e5fb683.png\";","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { UsergroupDeleteOutlined, IdcardOutlined, DingdingOutlined, GoogleOutlined, WechatOutlined, DribbbleOutlined} from '@ant-design/icons';\r\nimport logo from './logo.png';\r\nimport { Menu } from 'antd';\r\nimport './style.css';\r\n\r\nclass AppHeader extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            list: [],\r\n            current: ''\r\n        }\r\n    }\r\n\r\n    handleClick = e => {\r\n        this.setState({\r\n            current: e.key,\r\n        });\r\n    };\r\n\r\n    getIcon (id){\r\n        switch(id){\r\n            case 1:\r\n                return (\r\n                    <UsergroupDeleteOutlined />\r\n                )\r\n            case 2:\r\n                return (\r\n                    <IdcardOutlined />\r\n                )\r\n            case 3:\r\n                return (\r\n                    <DingdingOutlined />\r\n                )\r\n            case 4:\r\n                return (\r\n                    <GoogleOutlined />\r\n                )\r\n            case 5:\r\n                return (\r\n                    <WechatOutlined />\r\n                )\r\n            case 6:\r\n                return (\r\n                    <DribbbleOutlined />\r\n                )\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    getMenuItems() {\r\n        return this.state.list.map(item => {\r\n            return (\r\n                <Menu.Item key={item.id}>\r\n                    <Link to={`/${item.id}`}>\r\n                        {this.getIcon(item.id)}\r\n                        {item.title}\r\n                    </Link>\r\n                </Menu.Item>\r\n            )\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let num = this.props.match.params;\r\n\r\n        //保证刷新的时候，导航栏能准确地高亮显示\r\n        if(!num.num2) {\r\n            this.setState({current: num.num1});\r\n        }\r\n        axios.get('http://www.dell-lee.com/react/api/header.json')\r\n            .then(res => {\r\n                this.setState({\r\n                    list: res.data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Link to={'/'}>\r\n                    <img src={logo} alt=\"\" className={'app-header-logo'}/>\r\n                </Link>\r\n                <Menu selectedKeys={this.state.current} mode={'horizontal'} onClick={this.handleClick}>\r\n                    { this.getMenuItems() }\r\n                </Menu>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AppHeader;\r\n","import React, { Component } from 'react';\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nclass AppList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <List\r\n                bordered\r\n                style={{background: '#fff'}}\r\n                dataSource={this.state.data}\r\n                renderItem={item => (\r\n                    <List.Item>\r\n                        <Link to={`/detail/${item.id}`}>{item.title}</Link>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id = this.props.match.params.id;\r\n        id = (id ? id : 1);\r\n        axios.get('http://www.dell-lee.com/react/api/list.json?id='+id)\r\n            .then(res => {\r\n                this.setState({\r\n                    data: res.data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    //此处的使用componentWillReceiveProps会有警告，但是在尝试用其他的生命周期函数，如shouldComponentUpdate或者componentWillUpdate，则会重复执行代码\r\n    UNSAFE_componentWillReceiveProps(nextProps, nextState, nextContext) {\r\n        const id = nextProps.match.params.id;\r\n        axios.get('http://www.dell-lee.com/react/api/list.json?id='+id)\r\n            .then(res => {\r\n                this.setState({\r\n                    data: res.data.data\r\n                })\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport default AppList;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Card } from 'antd';\r\nimport './style.css';\r\n\r\nclass Detail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        axios.get('http://www.dell-lee.com/react/api/detail.json?id=' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    title : res.data.data.title,\r\n                    content : res.data.data.content\r\n                })\r\n            })\r\n    }\r\n    render() {\r\n       return (\r\n           <Card title={this.state.title}  style={{ width: '100%' }} >\r\n               <div className=\"detail\" dangerouslySetInnerHTML={{__html: this.state.content}}></div>\r\n           </Card>\r\n       )\r\n    }\r\n}\r\nexport default Detail;\r\n","import React, { Component } from 'react';\r\nimport { Modal, Button, Input, message } from 'antd';\r\nimport './style.css';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: true,\r\n            visible: false,\r\n            user: '',\r\n            passage: '',\r\n            checked: false\r\n        }\r\n    }\r\n\r\n    //显示登录框\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n\r\n    //注销\r\n    logout = () => {\r\n        axios.get('http://www.dell-lee.com/react/api/logout.json', { withCredentials: true })\r\n            .then(res => {\r\n                const data = res.data.data;\r\n                if(data.logout){\r\n                    this.setState({\r\n                        login: false\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    //检查账号密码是否正确\r\n    checkLogin = () => {\r\n        const { user, password } = this.state;\r\n        const url = `http://www.dell-lee.com/react/api/login.json?user=${user}&password=${password}`;\r\n        axios.get(url, { withCredentials: true })\r\n            .then(res => {\r\n                if(res.data.data.login){\r\n                    this.setState({\r\n                        visible: false,\r\n                        login: true\r\n                    });\r\n                    message.success(\"登录成功\");\r\n                }else{\r\n                    message.error(\"用户名或密码有误\");\r\n                }\r\n            })\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    // 将输入框输入的账号密码保存到state中\r\n    changeUsername = (e) => {\r\n        this.setState({user : e.target.value})\r\n    }\r\n    changePassage = (e) => {\r\n        this.setState({password : e.target.value})\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://www.dell-lee.com/react/api/isLogin.json',{withCredentials: true})\r\n            .then(res => {\r\n                const login = res.data.data.login;\r\n                this.setState({\r\n                    login,\r\n                    checked: true\r\n                });\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { login, checked } = this.state;\r\n        return (\r\n            <div>\r\n                {\r\n                    checked && login ?\r\n                        <Link to={'/'}><Button type=\"primary\" onClick={this.logout} className=\"login\">退出</Button></Link>\r\n                        :\r\n                        <Button type=\"primary\" onClick={this.showModal} className='login'>登录</Button>\r\n                }\r\n                <Link to={`/detail/vip`}><Button type=\"primary\" className=\"vip\">Vip</Button></Link>\r\n                <Modal\r\n                    title=\"登录\"\r\n                    visible={this.state.visible}\r\n                    onOk={this.checkLogin.bind(this)}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <Input placeholder=\"请输入用户名\" className='username' onBlur={this.changeUsername.bind(this)} />\r\n                    <br />\r\n                    <Input.Password placeholder=\"请输入密码\" onBlur={this.changePassage.bind(this)} />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './style.css';\r\n\r\nclass Vip extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: false,\r\n            checked: false\r\n        }\r\n    }\r\n    render() {\r\n        //仅当获取完登录状态，且登录状态位true时显示VIP内容\r\n        if(this.state.checked){\r\n            if(this.state.login) {\r\n                return (\r\n                    <div className='vip-content'>vip</div>\r\n                )\r\n            }else{\r\n                return (\r\n                    <div>请先登录</div>\r\n                )\r\n            }\r\n        }else{\r\n            return (\r\n                <div>正在检查登录状态...</div>\r\n            )\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // 获取登录状态\r\n        axios.get('http://www.dell-lee.com/react/api/isLogin.json', { withCredentials:true })\r\n            .then(res => {\r\n                const login = res.data.data.login;\r\n                this.setState({\r\n                    login,\r\n                    checked: true\r\n                });\r\n            })\r\n    }\r\n}\r\n\r\nexport default Vip;\r\n","import React, {Component} from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './style.css';\r\nimport AppHeader from './components/Header';\r\nimport AppList from './container/List';\r\nimport Detail from './container/Detail';\r\nimport Login from './components/Login';\r\nimport Vip from './container/Vip';\r\n\r\nconst { Header, Footer, Content } = Layout;\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                <Layout>\r\n                    <Header className=\"header\">\r\n                        {/*num1,num2将作为参数传递到AppHeader中，可在AppHeader中通过props获取*/}\r\n                        <Route path='/:num1?/:num2?' component={AppHeader}></Route>\r\n                    </Header>\r\n                    <Content className=\"content\">\r\n                        <Login />\r\n                        <Switch>\r\n                            <Route path='/detail/vip' component={Vip}></Route>\r\n                            <Route path='/detail/:id' component={Detail}></Route>\r\n                            <Route path='/:id?' component={AppList}></Route>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer className=\"footer\">@copyright Warsun 2020</Footer>\r\n                </Layout>\r\n            </BrowserRouter>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nReactDom.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}